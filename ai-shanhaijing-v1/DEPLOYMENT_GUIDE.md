# AIå±±æµ·ç»æ‰‹æœºç½‘é¡µç‰ˆéƒ¨ç½²æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

å°†å½“å‰çš„AIå±±æµ·ç»æ¸¸æˆéƒ¨ç½²ä¸ºæ‰‹æœºç½‘é¡µç‰ˆï¼Œé€šè¿‡å…¬ç½‘NASæœåŠ¡å™¨è¿›è¡Œè®¿é—®ã€‚

## ğŸ“± å½“å‰æ¸¸æˆåˆ†æ

### ä¼˜åŠ¿
- âœ… çº¯HTML5 + CSS3 + JavaScriptæŠ€æœ¯æ ˆ
- âœ… å“åº”å¼viewportè®¾ç½®å·²å­˜åœ¨
- âœ… è§¦æ‘¸å‹å¥½çš„ç•Œé¢è®¾è®¡
- âœ… æ— éœ€é¢å¤–æ’ä»¶æˆ–æ¡†æ¶

### éœ€è¦é€‚é…çš„é—®é¢˜
- âŒ æ§åˆ¶æ–¹å¼ï¼šWASDé”®ç›˜æ§åˆ¶ â†’ è§¦æ‘¸è™šæ‹Ÿæ‘‡æ†
- âŒ ç•Œé¢å°ºå¯¸ï¼šæ¡Œé¢å¤§å± â†’ æ‰‹æœºå°å±
- âŒ å›¾ç‰‡èµ„æºï¼šå¯èƒ½éœ€è¦å‹ç¼©ä¼˜åŒ–
- âŒ æ€§èƒ½ä¼˜åŒ–ï¼šæ‰‹æœºæ€§èƒ½é™åˆ¶

## ğŸ› ï¸ éƒ¨ç½²å‡†å¤‡æ¸…å•

### 1. NASæœåŠ¡å™¨è¦æ±‚
- [ ] å…¬ç½‘IPåœ°å€
- [ ] WebæœåŠ¡å™¨è½¯ä»¶ï¼ˆApache/Nginx/Caddyï¼‰
- [ ] é™æ€æ–‡ä»¶æ‰˜ç®¡æƒé™
- [ ] HTTPSè¯ä¹¦æ”¯æŒï¼ˆæ¨èï¼‰
- [ ] è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ï¼ˆé¢„è®¡100MBä»¥å†…ï¼‰

### 2. éœ€è¦å‡†å¤‡çš„æ–‡ä»¶
- [ ] æ¸¸æˆä¸»æ–‡ä»¶ï¼š`index.html`, `game.js`, `style.css`
- [ ] å›¾ç‰‡èµ„æºï¼š`assets/images/` ç›®å½•
- [ ] éŸ³æ•ˆèµ„æºï¼š`assets/sounds/` ç›®å½•
- [ ] ç§»åŠ¨ç«¯æ§åˆ¶ç•Œé¢ï¼šæ–°å¢è™šæ‹Ÿæ‘‡æ†

### 3. ç½‘ç»œé…ç½®
- [ ] é˜²ç«å¢™ç«¯å£å¼€æ”¾ï¼ˆ80/443ï¼‰
- [ ] åŸŸåè§£æï¼ˆå¯é€‰ä½†æ¨èï¼‰
- [ ] HTTPSé…ç½®
- [ ] CORSé…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ“‹ è¯¦ç»†éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1ï¼šNASæœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡

#### 1.1 å®‰è£…WebæœåŠ¡å™¨
**æ¨èä½¿ç”¨Caddyï¼ˆè‡ªåŠ¨HTTPSï¼‰**
```bash
# Ubuntu/Debian
sudo apt install caddy

# CentOS/RHEL
sudo yum install caddy

# æˆ–è€…ä½¿ç”¨Docker
docker run -d --name caddy -p 80:80 -p 443:443 -v /home/caddy:/data caddy
```

#### 1.2 é…ç½®Caddyfile
åˆ›å»º `/etc/caddy/Caddyfile`ï¼š
```
your-domain.com {
    root /var/www/ai-shanhaijing
    file_server
    encode zstd gzip
    handle_errors {
        respond "Error {http.error.status_code}: {http.error.status_text}"
    }
    log {
        output file /var/log/caddy/access.log
    }
}
```

#### 1.3 åˆ›å»ºç½‘ç«™ç›®å½•
```bash
sudo mkdir -p /var/www/ai-shanhaijing
sudo chown -R www-data:www-data /var/www/ai-shanhaijing
sudo chmod -R 755 /var/www/ai-shanhaijing
```

### æ­¥éª¤2ï¼šæ¸¸æˆæ–‡ä»¶ä¼˜åŒ–

#### 2.1 åˆ›å»ºç§»åŠ¨ç«¯ç‰ˆæœ¬
åˆ›å»º `index-mobile.html`ï¼š

#### 2.2 ä¼˜åŒ–å›¾ç‰‡èµ„æº
```bash
# ä½¿ç”¨ImageMagickæ‰¹é‡å‹ç¼©å›¾ç‰‡
cd assets/images
for img in *.png *.jpg; do
    convert "$img" -resize 50% -quality 80 "mobile_$img"
done
```

#### 2.3 åˆ›å»ºå‹ç¼©ç‰ˆæœ¬
```bash
# å‹ç¼©JavaScript
uglifyjs game.js -o game.min.js

# å‹ç¼©CSS
cssnano style.css style.min.css
```

### æ­¥éª¤3ï¼šæ–‡ä»¶ä¸Šä¼ åˆ°NAS

#### 3.1 ä½¿ç”¨SCPä¸Šä¼ 
```bash
scp -r /path/to/ai-shanhaijing/* user@nas-ip:/var/www/ai-shanhaijing/
```

#### 3.2 ä½¿ç”¨rsyncåŒæ­¥
```bash
rsync -avz --progress ./ai-shanhaijing/ user@nas-ip:/var/www/ai-shanhaijing/
```

#### 3.3 ç›®å½•ç»“æ„
```
/var/www/ai-shanhaijing/
â”œâ”€â”€ index.html
â”œâ”€â”€ index-mobile.html
â”œâ”€â”€ game.js
â”œâ”€â”€ game.min.js
â”œâ”€â”€ style.css
â”œâ”€â”€ style.min.css
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ æœ¨æ£’äºº.png
â”‚   â”‚   â”œâ”€â”€ è€å…‹é²¨é±¼.png
â”‚   â”‚   â””â”€â”€ å’–å•¡å¿è€….png
â”‚   â””â”€â”€ sounds/
â”‚       â”œâ”€â”€ battle-start.mp3
â”‚       â”œâ”€â”€ attack.mp3
â”‚       â””â”€â”€ victory.mp3
â””â”€â”€ mobile-controls/
    â”œâ”€â”€ joystick.css
    â””â”€â”€ joystick.js
```

### æ­¥éª¤4ï¼šç§»åŠ¨ç«¯é€‚é…å¼€å‘

#### 4.1 åˆ›å»ºç§»åŠ¨ç«¯æ§åˆ¶ç•Œé¢
åˆ›å»º `mobile-controls/joystick.js`ï¼š

#### 4.2 ä¿®æ”¹æ¸¸æˆæ§åˆ¶é€»è¾‘
åœ¨ `game-mobile.js` ä¸­æ·»åŠ è§¦æ‘¸æ§åˆ¶ï¼š

### æ­¥éª¤5ï¼šé…ç½®HTTPS

#### 5.1 ä½¿ç”¨Let's Encrypt
```bash
# å¦‚æœä½¿ç”¨Caddyï¼Œè‡ªåŠ¨è·å–è¯ä¹¦
# å¦‚æœä½¿ç”¨Nginx
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

#### 5.2 è‡ªåŠ¨ç»­æœŸ
```bash
sudo crontab -e
# æ·»åŠ ï¼š0 12 * * * /usr/bin/certbot renew --quiet
```

### æ­¥éª¤6ï¼šæµ‹è¯•å’Œä¼˜åŒ–

#### 6.1 ç§»åŠ¨ç«¯æµ‹è¯•
- [ ] iOS Safariæµ‹è¯•
- [ ] Android Chromeæµ‹è¯•
- [ ] å¾®ä¿¡å†…ç½®æµè§ˆå™¨æµ‹è¯•
- [ ] ä¸åŒå±å¹•å°ºå¯¸æµ‹è¯•

#### 6.2 æ€§èƒ½ä¼˜åŒ–
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] èµ„æºé¢„åŠ è½½
- [ ] ç¼“å­˜ç­–ç•¥
- [ ] ç¦»çº¿åŠŸèƒ½

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ–‡ä»¶æƒé™é—®é¢˜
```bash
sudo chown -R www-data:www-data /var/www/ai-shanhaijing
sudo chmod -R 755 /var/www/ai-shanhaijing
```

#### 2. ç«¯å£è¢«å ç”¨
```bash
sudo netstat -tulpn | grep :80
sudo kill -9 PID
```

#### 3. HTTPSè¯ä¹¦é—®é¢˜
```bash
sudo certbot certificates
sudo certbot renew --force-renewal
```

#### 4. ç§»åŠ¨ç«¯æ§åˆ¶ä¸å“åº”
æ£€æŸ¥è§¦æ‘¸äº‹ä»¶æ˜¯å¦æ­£ç¡®ç»‘å®šï¼Œè™šæ‹Ÿæ‘‡æ†æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–ã€‚

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ€§èƒ½ç›‘æ§
- ä½¿ç”¨Google Analyticsç›‘æµ‹è®¿é—®æƒ…å†µ
- ç›‘æ§æœåŠ¡å™¨è´Ÿè½½å’Œå¸¦å®½ä½¿ç”¨
- å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶

### å®šæœŸç»´æŠ¤
- æ¯æœˆå¤‡ä»½æ¸¸æˆæ–‡ä»¶
- å®šæœŸæ›´æ–°æœåŠ¡å™¨è½¯ä»¶
- ç›‘æ§å®‰å…¨æ¼æ´
- ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ

## ğŸš€ ä¸Šçº¿æ£€æŸ¥æ¸…å•

### ä¸Šçº¿å‰æ£€æŸ¥
- [ ] æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆ
- [ ] ç§»åŠ¨ç«¯æ§åˆ¶æ­£å¸¸å·¥ä½œ
- [ ] HTTPSè¯ä¹¦æœ‰æ•ˆ
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦å¯æ¥å—
- [ ] ä¸åŒè®¾å¤‡å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- [ ] å¤‡ä»½æ–¹æ¡ˆå°±ç»ª

### ä¸Šçº¿åæ£€æŸ¥
- [ ] å…¬ç½‘è®¿é—®æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒè‰¯å¥½
- [ ] æœåŠ¡å™¨è´Ÿè½½æ­£å¸¸
- [ ] é”™è¯¯æ—¥å¿—ç›‘æ§
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–
1. **å›¾ç‰‡ä¼˜åŒ–**ï¼šWebPæ ¼å¼ï¼Œå“åº”å¼å›¾ç‰‡
2. **ä»£ç å‹ç¼©**ï¼šæœ€å°åŒ–JS/CSSæ–‡ä»¶
3. **ç¼“å­˜ç­–ç•¥**ï¼šæµè§ˆå™¨ç¼“å­˜ï¼ŒCDNåŠ é€Ÿ
4. **æ‡’åŠ è½½**ï¼šéå…³é”®èµ„æºå»¶è¿ŸåŠ è½½

### ç”¨æˆ·ä½“éªŒ
1. **åŠ è½½å±å¹•**ï¼šæ·»åŠ è¿›åº¦æ¡
2. **ç¦»çº¿åŠŸèƒ½**ï¼šService Workeræ”¯æŒ
3. **æ‰‹åŠ¿æ”¯æŒ**ï¼šæ»‘åŠ¨ã€ç¼©æ”¾ç­‰æ‰‹åŠ¿
4. **é€‚é…æ–¹æ¡ˆ**ï¼šå“åº”å¼è®¾è®¡

### æ§åˆ¶ä¼˜åŒ–
1. **è™šæ‹Ÿæ‘‡æ†**ï¼šç›´è§‚çš„ç§»åŠ¨æ§åˆ¶
2. **æŠ€èƒ½æŒ‰é’®**ï¼šå¤§å°ºå¯¸è§¦æ‘¸æŒ‰é’®
3. **æ‰‹åŠ¿æ“ä½œ**ï¼šæ»‘åŠ¨æ”»å‡»ï¼Œç‚¹å‡»é‡Šæ”¾æŠ€èƒ½
4. **è®¾ç½®é€‰é¡¹**ï¼šçµæ•åº¦è°ƒèŠ‚ï¼ŒæŒ‰é’®å¤§å°è°ƒèŠ‚

## ğŸ¯ æ‰§è¡Œè®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€éƒ¨ç½²ï¼ˆ1-2å¤©ï¼‰
- [ ] NASæœåŠ¡å™¨ç¯å¢ƒé…ç½®
- [ ] åŸºç¡€æ–‡ä»¶ä¸Šä¼ 
- [ ] å…¬ç½‘è®¿é—®æµ‹è¯•

### ç¬¬äºŒé˜¶æ®µï¼šç§»åŠ¨ç«¯é€‚é…ï¼ˆ2-3å¤©ï¼‰
- [ ] ç§»åŠ¨ç«¯ç•Œé¢å¼€å‘
- [ ] è™šæ‹Ÿæ‘‡æ†å®ç°
- [ ] è§¦æ‘¸æ§åˆ¶ä¼˜åŒ–

### ç¬¬ä¸‰é˜¶æ®µï¼šä¼˜åŒ–ä¸Šçº¿ï¼ˆ1-2å¤©ï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å¤šè®¾å¤‡æµ‹è¯•
- [ ] HTTPSé…ç½®
- [ ] æ­£å¼ä¸Šçº¿

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ£€æŸ¥æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶
3. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

**ç¥ä½ éƒ¨ç½²æˆåŠŸï¼ğŸ‰**