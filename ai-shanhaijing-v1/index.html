<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI山海经</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 角色选择界面 -->
    <div id="character-select" class="screen active">
        <div class="character-select-container">
            <h1>AI山海经</h1>
            <p class="subtitle">选择你的角色</p>
            
            <div class="character-options">
                <div class="character-card" data-character="stickman">
                    <div class="character-avatar stickman-avatar">
                        <img src="assets/images/木棒人.png" alt="木棒人">
                    </div>
                    <h3>Lv.1 木棒人</h3>
                    <div class="character-stats">
                        <div class="stat">
                            <span class="stat-label">攻击力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 70%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">防御力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 50%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">速度</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 85%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="character-abilities">
                        <span class="ability">木棒攻击</span>
                        <span class="ability">快速移动</span>
                        <span class="ability">闪避</span>
                    </div>
                    <button class="select-btn">选择木棒人</button>
                </div>
                
                <div class="character-card" data-character="shark">
                    <div class="character-avatar shark-avatar">
                        <img src="assets/images/耐克鲨鱼.png" alt="耐克鲨鱼">
                    </div>
                    <h3>Lv.5 耐克鲨鱼</h3>
                    <div class="character-stats">
                        <div class="stat">
                            <span class="stat-label">攻击力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 95%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">防御力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 80%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">速度</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="character-abilities">
                        <span class="ability">鲨鱼咬击</span>
                        <span class="ability">高速冲击</span>
                        <span class="ability">耐克加速</span>
                    </div>
                    <button class="select-btn">选择耐克鲨鱼</button>
                </div>
                
                <div class="character-card" data-character="coffee-ninja">
                    <div class="character-avatar coffee-ninja-avatar">
                        <img src="assets/images/咖啡忍者.png" alt="咖啡忍者">
                    </div>
                    <h3>Lv.4 咖啡忍者</h3>
                    <div class="character-stats">
                        <div class="stat">
                            <span class="stat-label">攻击力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">防御力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">速度</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 90%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="character-abilities">
                        <span class="ability">咖啡飞镖</span>
                        <span class="ability">瞬移</span>
                        <span class="ability">咖啡因爆发</span>
                    </div>
                    <button class="select-btn">选择咖啡忍者</button>
                </div>
                
                <div class="character-card" data-character="ice-camel">
                    <div class="character-avatar ice-camel-avatar">
                        <img src="assets/images/冰箱骆驼.png" alt="冰箱骆驼">
                    </div>
                    <h3>Lv.10 冰箱骆驼</h3>
                    <div class="character-stats">
                        <div class="stat">
                            <span class="stat-label">攻击力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">防御力</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 95%"></div>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-label">速度</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: 40%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="character-abilities">
                        <span class="ability">骆驼吐沙</span>
                        <span class="ability">冰冻</span>
                        <span class="ability">冰箱护盾</span>
                    </div>
                    <button class="select-btn">选择冰箱骆驼</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 游戏主界面 -->
    <div id="game-screen" class="screen">
        <!-- 游戏世界 -->
        <div id="game-world">
            <div id="camera">
                <div id="game-layer">
                    <!-- 游戏元素将在这里动态生成 -->
                </div>
            </div>
        </div>
        
        <!-- 游戏UI -->
        <div id="game-ui">
            <!-- 玩家信息面板 -->
            <div id="player-info">
                <div class="player-avatar"></div>
                <div class="player-stats">
                    <div class="health-bar">
                        <div class="health-fill"></div>
                        <span class="health-text">100/100</span>
                    </div>
                    <div class="player-level">Lv.1</div>
                </div>
            </div>
            
            <!-- 技能栏 -->
            <div id="skill-bar">
                <div class="skill-slot" data-skill="1">
                    <div class="skill-icon"></div>
                    <div class="skill-cooldown"></div>
                    <div class="skill-key">J</div>
                </div>
                <div class="skill-slot" data-skill="2">
                    <div class="skill-icon"></div>
                    <div class="skill-cooldown"></div>
                    <div class="skill-key">K</div>
                </div>
                <div class="skill-slot" data-skill="3">
                    <div class="skill-icon"></div>
                    <div class="skill-cooldown"></div>
                    <div class="skill-key">L</div>
                </div>
            </div>
            
            <!-- 控制提示 -->
            <div id="controls-hint">
                <p>WASD 移动 | 鼠标点击寻路 | J/K/L 释放技能 | F5 存档 | F9 读档 | F6 存档界面 | I 装备</p>
            </div>
        </div>
    </div>

    <!-- 战斗界面 -->
    <div id="battle-screen" class="screen">
        <div class="battle-background">
            <div class="battle-scene">
                <!-- 玩家区域 -->
                <div class="battle-player-area">
                    <div class="battle-character player-battle-character">
                        <div class="battle-character-image"></div>
                        <div class="battle-health-bar">
                            <div class="battle-health-fill"></div>
                            <div class="battle-health-text">100/100</div>
                        </div>
                        <div class="battle-character-name">玩家</div>
                    </div>
                </div>
                
                <!-- 敌人区域 -->
                <div class="battle-enemy-area">
                    <div class="battle-character enemy-battle-character">
                        <div class="battle-character-image"></div>
                        <div class="battle-health-bar">
                            <div class="battle-health-fill"></div>
                            <div class="battle-health-text">100/100</div>
                        </div>
                        <div class="battle-character-name">敌人</div>
                    </div>
                </div>
                
                <!-- 战斗特效层 -->
                <div class="battle-effects-layer"></div>
                
                <!-- 战斗UI -->
                <div class="battle-ui">
                    <!-- 战斗技能栏 -->
                    <div class="battle-skill-bar">
                        <div class="battle-skill-slot" data-skill="1">
                            <div class="battle-skill-icon"></div>
                            <div class="battle-skill-key">J</div>
                            <div class="battle-skill-name">技能1</div>
                            <div class="battle-skill-cooldown"></div>
                        </div>
                        <div class="battle-skill-slot" data-skill="2">
                            <div class="battle-skill-icon"></div>
                            <div class="battle-skill-key">K</div>
                            <div class="battle-skill-name">技能2</div>
                            <div class="battle-skill-cooldown"></div>
                        </div>
                        <div class="battle-skill-slot" data-skill="3">
                            <div class="battle-skill-icon"></div>
                            <div class="battle-skill-key">L</div>
                            <div class="battle-skill-name">技能3</div>
                            <div class="battle-skill-cooldown"></div>
                        </div>
                    </div>
                    
                    <!-- 战斗信息 -->
                    <div class="battle-info">
                        <div class="battle-log"></div>
                        <div class="battle-turn-indicator">你的回合</div>
                    </div>
                    
                    <!-- 逃跑按钮 -->
                    <div class="battle-escape-btn">
                        <button onclick="game.escapeBattle()" title="逃跑必定成功，但会损失一半生命值">逃跑</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 胜利界面 -->
        <div class="victory-screen">
            <div class="victory-content">
                <h2>胜利！</h2>
                <div class="victory-rewards">
                    <div class="victory-exp">+<span id="victory-exp">0</span> 经验值</div>
                    <div class="victory-gold">+<span id="victory-gold">0</span> 金币</div>
                </div>
                <div class="victory-stats">
                    <div class="victory-damage-dealt">造成伤害: <span id="victory-damage">0</span></div>
                    <div class="victory-damage-taken">受到伤害: <span id="victory-taken">0</span></div>
                </div>
                <button class="victory-continue-btn" onclick="game.endBattleScreen()">继续</button>
            </div>
        </div>
    </div>

    <!-- 战斗音效 - 这些文件暂时不存在，将使用Web Audio API生成 -->
    <audio id="battle-start-sound" preload="auto"></audio>
    <audio id="attack-sound" preload="auto"></audio>
    <audio id="skill-sound" preload="auto"></audio>
    <audio id="hit-sound" preload="auto"></audio>
    <audio id="victory-sound" preload="auto"></audio>
    <audio id="defeat-sound" preload="auto"></audio>

    <!-- 角色选择音效 -->
    <audio id="stickman-hover" preload="auto">
        <source src="assets/sounds/木棒人.m4a" type="audio/mp4">
    </audio>
    <audio id="shark-hover" preload="auto">
        <source src="assets/sounds/耐克鲨鱼.m4a" type="audio/mp4">
    </audio>
    <audio id="coffee-ninja-hover" preload="auto">
        <source src="assets/sounds/咖啡忍者.m4a" type="audio/mp4">
    </audio>

    <!-- 存档系统 -->
    <script src="save-manager.js"></script>

    <!-- 装备系统 -->
    <script src="equipment-system.js"></script>

    <!-- 音效系统 -->
    <script src="audio-manager.js"></script>

    <!-- 游戏脚本 -->
    <script src="game.js"></script>

    <!-- 快速检查脚本（仅用于调试） -->
    <script src="quick-check.js"></script>
    
    <!-- 制作人员名单 -->
    <div id="credits" style="
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.6);
        color: rgba(255, 255, 255, 0.8);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 12px;
        z-index: 100;
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(5px);
        opacity: 0.7;
        transition: opacity 0.3s ease;
        cursor: pointer;
    " onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.7'">
        <div style="margin-bottom: 3px; font-weight: bold; color: #ffd700;">制作人员</div>
        <div>制作: burning</div>
        <div>美术: kaien</div>
    </div>
</body>
</html>